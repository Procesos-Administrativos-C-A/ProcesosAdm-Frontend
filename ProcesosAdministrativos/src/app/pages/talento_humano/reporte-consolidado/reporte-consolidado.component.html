<app-navbar rol="2"></app-navbar>

<main class=" w-screen pb-14 relative min-h-[760px] "> 
    <div class=" w-11/12 mx-auto my-14 flex flex-col items-center justify-start   ">
        
        <h1 class="text-center text-3xl font-semibold leading-7 text-gray-900 my-8">Reporte mensual de horas</h1>
        <input type="month" class="w-3/4 sm:w-1/2 md:w-1/3 lg:w-1/4 mb-4 ml-auto mr-auto sm:ml-4 md:ml-8 lg:ml-12" 
        value="{{fecha}}" (change)="consultarReporte($event)"/>
        
        <button *ngIf="empleados.length != 0" class="flex items-center justify-center p-3 w-36 ml-auto  my-4 rounded-md bg-Primario text-TextoBlanco hover:bg-Secundario active:bg-gray-500 " (click)="generarPDF()">Descargar PDF</button>

        <table  class="table-auto w-full mt-10">
            <tr class="bg-Primario text-white text-ms">
                <th class="py-3 px-6">Empleado</th>
                <th class="py-3 px-6">Cedula</th>
                <th class="py-3 px-6">Total de horas laboradas</th>
                <th class="py-3 px-6">Horas diurnas ordinarias</th>
                <th class="py-3 px-6">Horas diurnas festivo</th>
                <th class="py-3 px-6">Horas nocturnas</th>
                <th class="py-3 px-6">Horas nocturnas festivo</th>
                <th class="py-3 px-6">Horas extra</th>
            </tr>

            <tr *ngIf="empleados.length == 0">
                <td class="py-20 px-6 text-center bg-white text-xl" colspan="8">Mes sin registros</td>
            </tr>
    
            <tr *ngFor="let empleado of empleados; let i = index" class="text-xs text-center bg-white hover:bg-gray-100">
                <td class="w-16 p-4 border">
                    <p>{{empleado.nombre}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.cedula}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_diurnas_ord}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_diurnas_ord}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_diurnas_fest}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_nocturnas}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_nocturnas_fest}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_extras}}</p>
                </td>
                
            </tr>
        </table>
        <div class="w-full h-[400px] flex justify-center items-center my-36 pr-40">
            <canvas id="canvas" class="w-3/4" ></canvas>
        </div>

        <div class="w-full h-[600px] flex justify-center items-center">
            <canvas id="canvasPie" class="w-1/2" ></canvas>
        </div>
        
        

    </div>
    
</main>