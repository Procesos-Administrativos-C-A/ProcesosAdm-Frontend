<nav class="relative w-screen min-w-80 flex h-16 items-center justify-stretch bg-Primario text-white shadow-lg shadow-Primario" >
    <div class="flex items-center sm:justify-start telefono:justify-between  sm:w-1/2 telefono:w-full">
        <div class="sm:hidden telefono:block">
            <fa-icon [icon]="dropdown_menu() ? faCircleXmark : faBars" class="text-white text-2xl pl-3 cursor-pointer" (click)="dropDownMenu()" ></fa-icon>
        </div>
        <div class="w-28 flex-shrink-0 sm:block telefono:relative telefono:left-5">
            <img src="../../../assets/logo_cable_aereo_color_dos.png" alt="Logo" class="bg-contain h-[4rem] object-cover">
        </div>
      
        <div class="nav-links sm:block telefono:hidden ">
            <ul class="flex items-center ">
                <li class=" mx-10"><a href="#">Inicio</a></li>
                <li class=" mx-10" >
                    <button type="button" class="bg-transparent  rounded-md h-12 w-32 focus:shadow-lg focus:shadow-white/10" (click)="dropDownPre()">Preoperativos</button> 
                    <div class="animate-fade-right absolute  mt-2 w-56 z-10   rounded-md bg-white shadow-lg shadow-gray-400  focus:outline-none" (mouseleave)="dropDownPre()" *ngIf="dropdown_preoperativos()" >
                        <div class="" role="none">
                        <!-- Active: "bg-gray-100 text-gray-900", Not Active: "text-gray-700" -->
                        <a href="/Reportes" class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white" role="menuitem" tabindex="-1" >Lista de Preoperativos</a>
                        <a href="/Reportes/Consolidado" class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white" role="menuitem" tabindex="-1" >Reporte por mes</a>
                        <a href="/Reportes/Asistencia" class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white" role="menuitem" tabindex="-1" >Reporte por empleado</a>
                        </div>
                    </div>    
                </li>
                <li class="mx-10">
                    <button type="button" class="bg-transparent  rounded-md" (click)="dropDownTram()">Tramites</button> 
                    <div class="animate-fade-right absolute  mt-2 w-56 z-10  rounded-md bg-white shadow-lg shadow-gray-400 focus:outline-none transition-all duration-500"
                    (mouseleave)="dropDownTram()" *ngIf="dropdown_tramites()"  >
                        <div class="" >
                        <!-- Active: "bg-gray-100 text-gray-900", Not Active: "text-gray-700" -->
                        <a href="#" class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white">
                            Solicitar vacaciones</a>
                        <a href="#" class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white">
                            Generear certificado</a>
                        <a href="#" class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white">
                            Retiro de cesantias</a>
                        </div>
                    </div>
                </li>
                <li class="mx-10">
                    <button type="button" class="bg-transparent  rounded-md" (click)="dropDownSolicitudes()">Solicitudes</button>
                    <div
                      class="animate-fade-right absolute  mt-2 w-56 z-10  rounded-md bg-white shadow-lg shadow-gray-400 focus:outline-none transition-all duration-500"
                      (mouseleave)="dropDownSolicitudes()" *ngIf="dropdown_solicitudes()">
                      <div class="">
                        <!-- Active: "bg-gray-100 text-gray-900", Not Active: "text-gray-700" -->
                        <a href="#"
                          class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white">
                          Solicitudes de vacaciones</a>
                        <a href="#"
                          class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white">
                          Solicitudes de certificados</a>
                        <a href="#"
                          class="text-gray-700 block px-4 py-2 text-sm rounded-md hover:bg-Secundario hover:shadow-md hover:shadow-gray-400/55 hover:text-white">
                          Solicitudes de cesantias</a>
                      </div>
                    </div>
                  </li>
            </ul>
        </div>
        <div class="sm:hidden telefono:block pr-3">
            <fa-icon [icon]="faCircleUser" class="text-white text-2xl"></fa-icon>
        </div>
    </div>
    <div class=" flex justify-end sm:w-1/2">     
        <div class="pr-3">
            <fa-icon [icon]="faCircleUser" class="text-white text-2xl"></fa-icon>
        </div>
    </div>
    
</nav>

<main class=" w-screen pb-14 relative min-h-[760px] "> 
    <div class=" w-11/12 mx-auto my-14 flex flex-col items-center justify-start   ">
        
        <h1 class="text-center text-3xl font-semibold leading-7 text-gray-900 my-8">Reporte mensual de horas</h1>
        <input type="month" class="w-3/4 sm:w-1/2 md:w-1/3 lg:w-1/4 mb-4 ml-auto mr-auto sm:ml-4 md:ml-8 lg:ml-12" 
        value="{{fecha}}" (change)="consultarReporte($event)"/>
        
        <button *ngIf="empleados.length != 0" class="flex items-center justify-center p-3 w-36 ml-auto  my-4 rounded-md bg-Primario text-TextoBlanco hover:bg-Secundario active:bg-gray-500 " (click)="generarPDF()">Descargar PDF</button>

        <table  class="table-auto w-full mt-10">
            <tr class="bg-Primario text-white text-ms">
                <th class="py-3 px-6">Empleado</th>
                <th class="py-3 px-6">Cedula</th>
                <th class="py-3 px-6">Total de horas laboradas</th>
                <th class="py-3 px-6">Horas diurnas ordinarias</th>
                <th class="py-3 px-6">Horas diurnas festivo</th>
                <th class="py-3 px-6">Horas nocturnas</th>
                <th class="py-3 px-6">Horas nocturnas festivo</th>
                <th class="py-3 px-6">Horas extra</th>
            </tr>

            <tr *ngIf="empleados.length == 0">
                <td class="py-20 px-6 text-center bg-white text-xl" colspan="8">Mes sin registros</td>
            </tr>
    
            <tr *ngFor="let empleado of empleados; let i = index" class="text-xs text-center bg-white hover:bg-gray-100">
                <td class="w-16 p-4 border">
                    <p>{{empleado.nombre}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.cedula}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_diurnas_ord}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_diurnas_ord}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_diurnas_fest}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_nocturnas}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_nocturnas_fest}}</p>
                </td>
                <td class="w-16 p-4 border">
                    <p>{{empleado.horas_extras}}</p>
                </td>
                
            </tr>
        </table>
        <div class="w-full h-[400px] flex justify-center items-center my-36 pr-40">
            <canvas id="canvas" class="w-3/4" ></canvas>
        </div>

        <div class="w-full h-[600px] flex justify-center items-center">
            <canvas id="canvasPie" class="w-1/2" ></canvas>
        </div>
        
        

    </div>
    
</main>